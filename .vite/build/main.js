"use strict";const{app:o,shell:s,BrowserWindow:a,Menu:n}=require("electron"),c=process.platform==="darwin";let e,l,t;const u=()=>{e=new a({width:400,height:400,frame:!1,transparent:!0,webPreferences:{worldSafeExecuteJavaScript:!0}});var r=n.buildFromTemplate([{label:o.name,submenu:[{role:"quit"}]}]);n.setApplicationMenu(r),e.setResizable(!1),e.loadFile("src/loadingscreen.html"),e.on("closed",()=>e=null),e.webContents.on("did-finish-load",()=>{e.show()})};function d(){if(t){t.focus();return}t=new a({parent:l,modal:!0,width:400,height:400,title:"",center:!0,minimizable:!1,fullscreenable:!1,resizable:!1,webPreferences:{nodeIntegration:!0,worldSafeExecuteJavaScript:!0,enableRemoteModule:!0}}),t.loadFile("src/about.html"),t.on("closed",function(){t=null})}function i(){l=new a({width:800,height:700,icon:"scr/img/icon/lemon.png",webPreferences:{worldSafeExecuteJavaScript:!0,nodeIntegration:!0,enableRemoteModule:!0,fullscreenable:!0},show:!1});var r=n.buildFromTemplate([{label:o.name,submenu:[{label:"About",click(){d()}},{type:"separator"},{role:"quit"}]},{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"},{role:"selectall"}]},{label:"View",submenu:[{role:"reload"},{role:"forceReload"},{type:"separator"},{role:"minimize"},c?{role:"zoom"}:{role:" togglefullscreen"}]},{label:"Help",submenu:[{role:"toggleDevTools"},{type:"separator"},{label:"Contact",click:async()=>{await s.openExternal("https://withane.design/contact/")}}]}]);n.setApplicationMenu(r),l.loadFile("src/index.html"),l.on("closed",function(){l=null}),l.webContents.on("did-finish-load",()=>{e&&e.close(),l.show()})}o.on("ready",()=>{u(),setTimeout(()=>{i()},4e3)});o.on("window-all-closed",function(){process.platform!=="darwin"&&o.quit()});o.on("activate",function(){l===null&&i()});
